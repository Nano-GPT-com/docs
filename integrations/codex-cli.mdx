---
title: 'Codex CLI'
description: 'Using OpenAI Codex CLI with NanoGPT'
---

# Codex CLI

> Use OpenAI's Codex CLI with NanoGPT to access GPT-5.2, Claude Opus 4.5, Gemini 3 Flash Preview, and 400+ AI models through a single API key.

<Tip>
  [Get started with NanoGPT](https://nano-gpt.com/api) for pay-as-you-go pricing with no monthly fees. Add credits and start coding immediately.
</Tip>

NanoGPT provides an OpenAI API-compatible endpoint that works seamlessly with Codex CLI. This allows you to:

- Use Codex CLI with your NanoGPT credits
- Access OpenAI models (GPT-5.2 and more) without a separate OpenAI account
- Route to 400+ other models including Claude Opus 4.5, Gemini 3 Flash Preview, and GLM 4.7

## Step 1: Install Codex CLI

<Tabs>
  <Tab title="Recommended Installation Method">
    Prerequisites: [Node.js 22 or newer](https://nodejs.org/en/download/)

    ```bash
    # Install Codex CLI
    npm install -g @openai/codex

    # Navigate to your project
    cd your-awesome-project

    # Start Codex
    codex
    ```
  </Tab>

  <Tab title="Cursor Guided Installation Method">
    If you are not familiar with npm but have Cursor, you can enter the command in Cursor, and Cursor will guide you through the installation.

    ```
    https://developers.openai.com/codex/cli/ Help me install Codex CLI
    ```
  </Tab>
</Tabs>

<Note>
  **Note**: If you encounter permission issues during installation, try using `sudo` (macOS/Linux) or running the command prompt as an administrator (Windows) to re-execute the installation command.
</Note>

## Step 2: Configure NanoGPT

<Steps>
  <Step title="Get API Key">
    * Go to [NanoGPT API](https://nano-gpt.com/api)
    * Create an account or log in
    * Copy your API key
  </Step>

  <Step title="Configure Codex">
    Set up Codex using one of the following methods:

    <Tabs>
      <Tab title="One-Click Setup (Mac/Linux)">
        Run this command in your terminal:

        ```bash
        curl -O "https://nano-gpt.com/install/codex_nanogpt.sh" && bash ./codex_nanogpt.sh
        ```

        The script will:
        1. Prompt for your API key
        2. Create `~/.codex/config.toml` with NanoGPT configuration
        3. Add `NANOGPT_API_KEY` to your shell profile

        The installer now supports browser-based login. When the script starts, choose:
        1) Browser login (recommended) - it will open a verification URL, wait for approval, and then save your key in `~/.codex/config.toml`.
        2) Paste API key - manual fallback if you prefer.

        If a browser does not open automatically, copy the printed URL into your browser and approve the request.

        For more details on the browser login flow, see [CLI login](https://docs.nano-gpt.com/integrations/cli-login).
      </Tab>

      <Tab title="Manual Configuration (All Platforms)">
        **Step 1**: Create `~/.codex/config.toml`:

        ```toml
        model_provider = "nanogpt"
        model = "openai/gpt-5.2"

        [model_providers.nanogpt]
        name = "NanoGPT"
        base_url = "https://nano-gpt.com/api/v1"
        env_key = "NANOGPT_API_KEY"
        wire_api = "chat"
        ```

        **Step 2**: Set your API key as an environment variable:

        **macOS/Linux** (add to `~/.zshrc` or `~/.bashrc`):
        ```bash
        export NANOGPT_API_KEY="your_nanogpt_api_key"
        ```

        **Windows Cmd**:
        ```cmd
        setx NANOGPT_API_KEY your_nanogpt_api_key
        ```

        **Windows PowerShell**:
        ```powershell
        [System.Environment]::SetEnvironmentVariable('NANOGPT_API_KEY', 'your_nanogpt_api_key', 'User')
        ```

        Replace `your_nanogpt_api_key` with your actual API key. Open a new terminal for changes to take effect.
      </Tab>

      <Tab title="Environment Variables Only (Quick)">
        If you just want to override the default OpenAI endpoint without a config file:

        ```bash
        export OPENAI_BASE_URL="https://nano-gpt.com/api/v1"
        export OPENAI_API_KEY="your_nanogpt_api_key"
        ```

        This method works but does not persist across terminal sessions unless added to your shell profile.
      </Tab>
    </Tabs>
  </Step>
</Steps>

## Step 3: Start Using Codex

Once configured, start Codex in your terminal:

```bash
codex
```

Or specify a model directly:

```bash
codex --model openai/gpt-5.2
```

---

## FAQ

### What Models Can I Use?

NanoGPT supports 400+ models. Popular choices for Codex:

| Use Case | Recommended Model | Config |
|----------|-------------------|--------|
| Best overall | `openai/gpt-5.2` | `model = "openai/gpt-5.2"` |
| Best Claude | `anthropic/claude-opus-4.5` | `model = "anthropic/claude-opus-4.5"` |
| Fast/cheap | `google/gemini-3-flash-preview` | `model = "google/gemini-3-flash-preview"` |
| Long context | `google/gemini-3-pro-preview` | `model = "google/gemini-3-pro-preview"` |
| Open model | `zai-org/glm-4.7` | `model = "zai-org/glm-4.7"` |

View all available models at [nano-gpt.com/models/text](https://nano-gpt.com/models/text).

### How Do I Change Models?

**Option 1**: Edit `~/.codex/config.toml`:
```toml
model = "openai/gpt-5.2"
```

**Option 2**: Use CLI flag:
```bash
codex --model openai/gpt-5.2
```

### Configuration Not Working?

1. **Check your API key**: Ensure `NANOGPT_API_KEY` is set
   ```bash
   echo $NANOGPT_API_KEY
   ```

2. **Verify config file**: Check `~/.codex/config.toml` exists and has valid TOML syntax

3. **Open a new terminal**: Environment variable changes require a new shell session

4. **Reset configuration**: Delete `~/.codex/config.toml` and run the setup script again

### How Is This Different From Using OpenAI Directly?

| Feature | OpenAI Direct | NanoGPT |
|---------|---------------|---------|
| Pricing | Monthly subscription or API credits | Pay-as-you-go, no minimums |
| Models | OpenAI only | OpenAI + Claude + 400 other models |
| Billing | Separate OpenAI account | Single NanoGPT balance |
| Rate limits | OpenAI limits | NanoGPT limits |

### Can I Use Both Claude Code and Codex?

Yes. Both can be configured to use NanoGPT simultaneously:

- **Claude Code**: Uses `~/.claude/settings.json` with Anthropic API format
- **Codex CLI**: Uses `~/.codex/config.toml` with OpenAI API format

Both tools share the same NanoGPT credit balance.

### Need Help?

- Check your balance at [nano-gpt.com/balance](https://nano-gpt.com/balance)
- View API usage at [nano-gpt.com/usage](https://nano-gpt.com/usage)
- Create or manage API keys at [nano-gpt.com/api](https://nano-gpt.com/api)
- Contact support via the chat widget on [nano-gpt.com](https://nano-gpt.com)
