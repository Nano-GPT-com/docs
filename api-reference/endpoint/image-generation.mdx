---
title: 'Image Generation'
openapi: 'POST /generate-image'
---

## Request Body

```json
{
  "prompt": "A serene landscape with mountains and a lake at sunset, digital art style",
  "model": "recraft-v3",
  "width": 1024,
  "height": 1024,
  "negative_prompt": "blurry, bad quality, distorted, deformed",
  "nImages": 1,
  "num_steps": 30,
  "resolution": "1024x1024",
  "sampler_name": "DPM++ 2M Karras",
  "scale": 7.5
}
```

## Parameters

| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| prompt | string | Yes | The text description of the image to generate |
| model | string | Yes | The model to use for generation (e.g., "recraft-v3") |
| width | integer | No | Width of the generated image (default: 1024) |
| height | integer | No | Height of the generated image (default: 1024) |
| negative_prompt | string | No | Things to avoid in the generated image |
| nImages | integer | No | Number of images to generate (default: 1) |
| num_steps | integer | No | Number of denoising steps (default: 30) |
| resolution | string | No | Output resolution (default: "1024x1024") |
| sampler_name | string | No | Sampling method (default: "DPM++ 2M Karras") |
| scale | float | No | Guidance scale (default: 7.5) |

## Example Response

```json
{
  "image": "base64_encoded_image_data",
  "cost": 0.05,
  "inputTokens": 10,
  "outputTokens": 0
}
```

## Example Usage

```python
import requests
import json
import base64
from PIL import Image
import io

BASE_URL = "https://nano-gpt.com/api"
API_KEY = "YOUR_API_KEY"

headers = {
    "x-api-key": API_KEY,
    "Content-Type": "application/json"
}

def generate_image(prompt, model="recraft-v3", width=1024, height=1024):
    data = {
        "prompt": prompt,
        "model": model,
        "width": width,
        "height": height,
        "negative_prompt": "blurry, bad quality, distorted, deformed",
        "nImages": 1,
        "num_steps": 30,
        "resolution": "1024x1024",
        "sampler_name": "DPM++ 2M Karras",
        "scale": 7.5
    }

    response = requests.post(
        f"{BASE_URL}/generate-image",
        headers=headers,
        json=data
    )

    if response.status_code != 200:
        raise Exception(f"Error: {response.status_code}")

    result = response.json()
    
    # Decode and save the image
    image_data = base64.b64decode(result['image'])
    image = Image.open(io.BytesIO(image_data))
    image.save("generated_image.png")
    
    return result

# Example usage
prompt = "A serene landscape with mountains and a lake at sunset, digital art style"
try:
    result = generate_image(prompt)
    print("Image generated successfully!")
    print("Cost:", result.get('cost', 'N/A'))
    print("Image saved as 'generated_image.png'")
except Exception as e:
    print(f"Error: {str(e)}")
``` 