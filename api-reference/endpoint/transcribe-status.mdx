---
title: 'Speech-to-Text Status'
openapi: 'POST /api/transcribe/status'
---

## Overview

Check the status of an asynchronous transcription job (Elevenlabs-STT). Poll this endpoint to get transcription results when the job is completed.

## Usage

This endpoint is used with the Elevenlabs-STT model which processes transcriptions asynchronously. After submitting a transcription job, you'll receive a `runId` that you use to check the status.

<CodeGroup>

```python Python
import requests
import time

def check_transcription_status(run_id, job_data):
    headers = {
        "x-api-key": "YOUR_API_KEY",
        "Content-Type": "application/json"
    }
    
    status_data = {
        "runId": run_id,
        "cost": job_data.get('cost'),
        "paymentSource": job_data.get('paymentSource'),
        "isApiRequest": True,
        "fileName": job_data.get('fileName'),
        "fileSize": job_data.get('fileSize'),
        "chargedDuration": job_data.get('chargedDuration'),
        "diarize": job_data.get('diarize', False)
    }
    
    response = requests.post(
        "https://nano-gpt.com/api/transcribe/status",
        headers=headers,
        json=status_data
    )
    
    return response.json()

def wait_for_completion(run_id, job_data, max_attempts=60):
    for attempt in range(max_attempts):
        result = check_transcription_status(run_id, job_data)
        status = result.get('status')
        
        if status == 'completed':
            return result
        elif status == 'failed':
            raise Exception(f"Transcription failed: {result.get('error')}")
        
        print(f"Status: {status} (attempt {attempt + 1}/{max_attempts})")
        time.sleep(5)
    
    raise Exception("Transcription timed out")

# Usage
job_data = {"runId": "abc123", "cost": 0.075, "paymentSource": "USD"}
result = wait_for_completion("abc123", job_data)
print(result['transcription'])
```

```javascript JavaScript
async function checkTranscriptionStatus(runId, jobData) {
    const response = await fetch('https://nano-gpt.com/api/transcribe/status', {
        method: 'POST',
        headers: {
            'x-api-key': 'YOUR_API_KEY',
            'Content-Type': 'application/json'
        },
        body: JSON.stringify({
            runId: runId,
            cost: jobData.cost,
            paymentSource: jobData.paymentSource,
            isApiRequest: true,
            fileName: jobData.fileName,
            fileSize: jobData.fileSize,
            chargedDuration: jobData.chargedDuration,
            diarize: jobData.diarize || false
        })
    });
    
    return await response.json();
}

async function waitForCompletion(runId, jobData, maxAttempts = 60) {
    for (let attempt = 0; attempt < maxAttempts; attempt++) {
        const result = await checkTranscriptionStatus(runId, jobData);
        const status = result.status;
        
        if (status === 'completed') {
            return result;
        } else if (status === 'failed') {
            throw new Error(`Transcription failed: ${result.error}`);
        }
        
        console.log(`Status: ${status} (attempt ${attempt + 1}/${maxAttempts})`);
        await new Promise(resolve => setTimeout(resolve, 5000));
    }
    
    throw new Error('Transcription timed out');
}

// Usage
const jobData = {runId: "abc123", cost: 0.075, paymentSource: "USD"};
const result = await waitForCompletion("abc123", jobData);
console.log(result.transcription);
```

```bash cURL
# Check status
curl -X POST https://nano-gpt.com/api/transcribe/status \
  -H "x-api-key: YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "runId": "abc123def456",
    "cost": 0.075,
    "paymentSource": "USD",
    "isApiRequest": true,
    "fileName": "meeting.mp3",
    "fileSize": 2345678,
    "chargedDuration": 2.5,
    "diarize": true
  }'
```

</CodeGroup>

## Status Values

- **`pending`**: Job is queued for processing
- **`processing`**: Transcription is in progress
- **`completed`**: Transcription finished successfully
- **`failed`**: Transcription failed (check error field)

## Response Examples

### Pending/Processing

```json
{
  "status": "processing"
}
```

### Completed

```json
{
  "status": "completed",
  "transcription": "Speaker 1: Hello everyone. Speaker 2: Hi there!",
  "metadata": {
    "fileName": "meeting.mp3",
    "fileSize": 2345678,
    "chargedDuration": 2.5,
    "actualDuration": 2.47,
    "language": "en",
    "cost": 0.075,
    "currency": "USD",
    "model": "Elevenlabs-STT"
  },
  "words": [
    {
      "text": "Hello",
      "start": 0.5,
      "end": 0.9,
      "type": "word",
      "speaker_id": "speaker_0"
    }
  ],
  "diarization": {
    "segments": [
      {
        "speaker": "Speaker 1",
        "text": "Hello everyone",
        "start": 0.5,
        "end": 1.5
      }
    ]
  }
}
```

### Failed

```json
{
  "status": "failed",
  "error": "Audio file could not be processed"
}
``` 