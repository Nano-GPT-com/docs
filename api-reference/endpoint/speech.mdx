---
title: 'v1/audio/speech (TTS + Music)'
---

## Overview

Synthesize speech (TTS) or generate music with a single request. The OpenAI-compatible `POST /v1/audio/speech` endpoint returns audio bytes directly in the HTTP response.

When you use a music model (for example `Minimax-Music-02`), the `input` field is treated as a music prompt (not text to speak) and `voice` is ignored. For a dedicated music guide and model list, see `api-reference/music-generation.mdx`.

## Endpoint

- Method/Path: `POST https://nano-gpt.com/api/v1/audio/speech`
- Auth: `Authorization: Bearer <API_KEY>`
- Required header: `Content-Type: application/json`
- You may see older examples using `POST https://nano-gpt.com/api/v1/speech`. Prefer `/api/v1/audio/speech` for OpenAI SDK compatibility.

## Request Body (JSON)

- `model` (string, required): Audio-speech model ID (TTS or music).
- `input` (string, required): Text to speak (TTS) or a music prompt (music models).
- `voice` (string, required by many OpenAI SDKs): Voice preset for TTS. Ignored for music models; if required by your client, pass any string (for example `"alloy"`).
- `response_format` (string, optional): Output format. Common values: `mp3`, `wav`, `ogg`, `opus`, `aac`, `flac`.
- `speed` (number, optional): Speaking rate multiplier for TTS (for example `0.5`–`2.0`). Ignored for music models.
- `instructions` (string, optional): Voice/style instructions (supported by some models/providers).

Note: Some provider-backed models may support additional fields; parameters accepted can vary by model.

## Response

- Success: `200 OK`, body contains binary audio.
- `Content-Type`: Based on the selected output format (for example `audio/mpeg`, `audio/wav`, `audio/ogg`).

On error, returns JSON with details and a non‑2xx status:

```json
{ "error": { "type": "invalid_request_error", "message": "details" } }
```

Common error types: `invalid_model`, `invalid_voice`, `unsupported_format`, `input_too_long`, `rate_limit_exceeded`.

## Examples

All examples write audio to disk.

<CodeGroup>

```bash cURL (MP3)
curl -X POST \
  -H "Authorization: Bearer $NANOGPT_API_KEY" \
  -H "Content-Type: application/json" \
  https://nano-gpt.com/api/v1/audio/speech \
  -d '{
    "model": "gpt-4o-mini-tts",
    "input": "Hello from NanoGPT!",
    "voice": "alloy",
    "response_format": "mp3",
    "instructions": "Speak in a warm, friendly tone."
  }' \
  --output speech.mp3
```

```ts Node (fetch)
import fs from "node:fs";

const res = await fetch("https://nano-gpt.com/api/v1/audio/speech", {
  method: "POST",
  headers: {
    Authorization: `Bearer ${process.env.NANOGPT_API_KEY}`,
    "Content-Type": "application/json",
  },
  body: JSON.stringify({
    model: "gpt-4o-mini-tts",
    input: "Hello from NanoGPT!",
    voice: "alloy",
    response_format: "mp3",
  }),
});

if (!res.ok) throw new Error(await res.text());
const buffer = Buffer.from(await res.arrayBuffer());
await fs.promises.writeFile("speech.mp3", buffer);
```

```python Python (requests)
import requests
import os

resp = requests.post(
    "https://nano-gpt.com/api/v1/audio/speech",
    headers={
        "Authorization": f"Bearer {os.environ.get('NANOGPT_API_KEY')}",
        "Content-Type": "application/json",
    },
    json={
        "model": "gpt-4o-mini-tts",
        "input": "Hello from NanoGPT!",
        "voice": "alloy",
        "response_format": "mp3",
    },
)
resp.raise_for_status()
with open("speech.mp3", "wb") as f:
    f.write(resp.content)
```

</CodeGroup>

## Notes & Limits

- Max input length: depends on model; measured in characters or tokens. For short, interactive prompts, prefer under ~1–2k characters.
- Typical latency: scales with input length and output format; compressed formats like `mp3` are often faster than `wav`.
- Usage metering: billed by characters/tokens or generated audio seconds (provider‑specific). See Pricing.

## Audio Formats

Common `response_format` values and typical `Content-Type`:

| response_format | Content-Type | Notes |
|-----------------|--------------|-------|
| mp3             | `audio/mpeg` | Widely supported in browsers |
| wav             | `audio/wav`  | Larger payloads |
| ogg             | `audio/ogg`  | Container; may include Opus |
| opus            | `audio/opus` or `audio/ogg` | Streaming-friendly |
| aac             | `audio/aac`  | Safari-friendly |
| flac            | `audio/flac` | Lossless |

Browser notes: Safari supports AAC/MP3; Ogg/Opus plays in Chrome/Firefox; WAV is universal but larger.

## Voices

- Voice IDs vary by model/provider. See model‑specific voices on Text‑to‑Speech: `api-reference/text-to-speech.mdx`.
- If a voices listing endpoint is available (for example `GET /v1/voices`), it returns available voice IDs and metadata (language coverage, gender/pitch, sample links).

## Errors & Troubleshooting

- `invalid_model`, `invalid_voice`, `unsupported_format`: Verify `model`, `voice`, and `response_format`.
- `input_too_long`: Reduce length; split long text into chunks and stitch audio client‑side.
- `rate_limit_exceeded`: Exponential backoff; retry after the window resets.
- Network/client tips: Set `Accept` to your preferred audio type and write the raw response body directly to a file.

## Security

- Do not expose API keys in browsers. Proxy via your server.
- Redact PII in logs; avoid logging raw text/audio in production.
- Rate‑limit public routes.

## Pricing, Quotas, and Rate Limits

- Billing: per characters/tokens or generated seconds depending on provider/model; minimum billing increments may apply.
- Rate limits: per‑minute/day caps; contact support to request increases. See `api-reference/miscellaneous/pricing.mdx` and `api-reference/miscellaneous/rate-limits.mdx`.

## Migration from Job‑based TTS

Already using the async `POST /tts` + `GET /tts/status` flow?

- When to switch: choose `v1/audio/speech` for short prompts, low latency, and direct playback; keep job‑based TTS for long/batch generation and webhook workflows.
- Parameter mapping: `text` → `input`, `voice` stays `voice`, and output format can be requested with `response_format` when supported.
- Retries/timeouts: `v1/audio/speech` returns inline; implement client‑side timeouts and simple retries on 5xx.

## Streaming

If chunked audio streaming is enabled for your account, you can request streaming with compatible formats (for example Opus/MP3) and consume the response as a stream. Example Node pattern:

```ts
const res = await fetch("https://nano-gpt.com/api/v1/audio/speech", { /* headers/body as above */ });
if (!res.ok) throw new Error(await res.text());
const file = await fs.open("speech.mp3", "w");
for await (const chunk of res.body) {
  await file.write(chunk);
}
await file.close();
```

Note: Streaming availability and formats may vary by model/provider.

## See Also

- Async/job‑based TTS: `api-reference/endpoint/tts.mdx`
- TTS Status polling: `api-reference/endpoint/tts-status.mdx`
